# OpenClaw é…ç½®ç³»ç»Ÿå­¦ä¹ æ€»ç»“

## ğŸ“‹ é—®é¢˜å¤ç›˜

### åœºæ™¯
é…ç½® Brave Search API keyï¼Œä½¿ `web_search` å·¥å…·æ­£å¸¸å·¥ä½œã€‚

### æˆ‘çš„é”™è¯¯é…ç½®
```json
// âŒ é”™è¯¯ä½ç½®: ~/.config/openclaw/config.json
{
  "web": {
    "brave_api_key": "BSACAqN3n2DlHcHTxjxPlu_XPi3nBk_"
  }
}
```

### æ­£ç¡®é…ç½®
```json
// âœ… æ­£ç¡®ä½ç½®: ~/.openclaw/openclaw.json
{
  "tools": {
    "web": {
      "search": {
        "provider": "brave",
        "apiKey": "BSACAqN3n2DlHcHTxjxPlu_XPi3nBk_"
      }
    }
  }
}
```

---

## ğŸ” é”™è¯¯åˆ†æ

| ç»´åº¦ | æˆ‘çš„é…ç½® | æ­£ç¡®é…ç½® | è¯´æ˜ |
|------|---------|---------|------|
| **æ–‡ä»¶ä½ç½®** | `~/.config/openclaw/config.json` | `~/.openclaw/openclaw.json` | CLI vs Gateway |
| **é…ç½®è·¯å¾„** | `web.brave_api_key` | `tools.web.search.apiKey` | åµŒå¥—å±‚çº§é”™è¯¯ |
| **é…ç½®æ ¼å¼** | æ‰å¹³åŒ– | åµŒå¥—ç»“æ„ | ä¸ç¬¦åˆ Schema |
| **è¯»å–æ–¹å¼** | CLI è¯»å– | Gateway å¯åŠ¨æ—¶è¯»å– | è¿è¡Œæ—¶ä¾èµ– |

---

## ğŸ§  æ ¸å¿ƒè®¤çŸ¥

### OpenClaw åŒé…ç½®ç³»ç»Ÿ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    OpenClaw æ¶æ„                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   CLI å·¥å…·é…ç½®        â”‚    â”‚   Gateway è¿è¡Œé…ç½®    â”‚      â”‚
â”‚  â”‚   ~/.config/openclaw/ â”‚    â”‚   ~/.openclaw/       â”‚      â”‚
â”‚  â”‚   config.json         â”‚    â”‚   openclaw.json      â”‚      â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
â”‚  â”‚ â€¢ workspace          â”‚    â”‚ â€¢ meta               â”‚      â”‚
â”‚  â”‚ â€¢ model              â”‚    â”‚ â€¢ models             â”‚      â”‚
â”‚  â”‚ â€¢ web (âŒ ä¸ç”Ÿæ•ˆ)     â”‚    â”‚ â€¢ agents             â”‚      â”‚
â”‚  â”‚ â€¢ tavily (âŒ ä¸ç”Ÿæ•ˆ)  â”‚    â”‚ â€¢ tools âœ…           â”‚      â”‚
â”‚  â”‚                      â”‚    â”‚   - web.search       â”‚      â”‚
â”‚  â”‚                      â”‚    â”‚   - web.fetch        â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚           â”‚                           â”‚                     â”‚
â”‚           â–¼                           â–¼                     â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚     â”‚ openclaw â”‚               â”‚ Gateway  â”‚                â”‚
â”‚     â”‚ å‘½ä»¤è¡Œ   â”‚               â”‚ å®ˆæŠ¤è¿›ç¨‹ â”‚                â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…³é”®åŒºåˆ«

| é…ç½®ç±»å‹ | ç”¨é€” | è¯»å–æ—¶æœº | å½±å“èŒƒå›´ |
|---------|------|---------|---------|
| **CLI é…ç½®** | å‘½ä»¤è¡Œå·¥å…·è¡Œä¸º | æ‰§è¡Œå‘½ä»¤æ—¶ | `openclaw` å‘½ä»¤ |
| **Gateway é…ç½®** | å®ˆæŠ¤è¿›ç¨‹è¿è¡Œæ—¶ | å¯åŠ¨æ—¶ | å·¥å…·ã€æ¨¡å‹ã€ä¼šè¯ |

---

## ğŸ“š é…ç½® Schema è¯¦è§£

### Gateway é…ç½®ç»“æ„

```json
{
  "meta": {
    "lastTouchedVersion": "2026.2.3-1",
    "lastTouchedAt": "2026-02-07T00:22:00.000Z"
  },
  "models": {
    "mode": "merge",
    "providers": { ... }
  },
  "agents": { ... },
  "tools": {
    "web": {
      "search": {
        "provider": "brave",           // æœç´¢å¼•æ“: brave | perplexity
        "apiKey": "YOUR_API_KEY",      // API å¯†é’¥
        "maxResults": 10,              // æœ€å¤§ç»“æœæ•°
        "timeoutSeconds": 30           // è¶…æ—¶æ—¶é—´
      },
      "fetch": {
        "maxCharsCap": 10000,          // æœ€å¤§å­—ç¬¦é™åˆ¶
        "firecrawl": {
          "enabled": false             // Firecrawl å›é€€
        }
      }
    }
  }
}
```

---

## âœ… æ­£ç¡®é…ç½®æµç¨‹

### æ­¥éª¤ 1: ç¡®å®šé…ç½®ç±»å‹
```bash
# éœ€è¦é‡å¯ Gateway ç”Ÿæ•ˆï¼Ÿâ†’ é…åœ¨ ~/.openclaw/openclaw.json
# åªæ˜¯ CLI è¡Œä¸ºï¼Ÿâ†’ é…åœ¨ ~/.config/openclaw/config.json
```

### æ­¥éª¤ 2: ä¿®æ”¹ Gateway é…ç½®
```bash
# å¤‡ä»½åŸé…ç½®
cp ~/.openclaw/openclaw.json ~/.openclaw/openclaw.json.bak

# ç¼–è¾‘é…ç½®ï¼ˆä½¿ç”¨ python ç¡®ä¿æ ¼å¼æ­£ç¡®ï¼‰
cat ~/.openclaw/openclaw.json | python3 -c "
import json, sys
data = json.load(sys.stdin)

# æ·»åŠ /ä¿®æ”¹ web search é…ç½®
data['tools'] = data.get('tools', {})
data['tools']['web'] = data['tools'].get('web', {})
data['tools']['web']['search'] = {
    'provider': 'brave',
    'apiKey': 'YOUR_API_KEY'
}

print(json.dumps(data, indent=2))
" > ~/.openclaw/openclaw.json.new

# éªŒè¯å¹¶æ›¿æ¢
mv ~/.openclaw/openclaw.json.new ~/.openclaw/openclaw.json
```

### æ­¥éª¤ 3: é‡å¯ Gateway
```bash
# åœæ­¢ Gateway
pkill -f "openclaw-gateway"

# å¯åŠ¨ Gateway
openclaw gateway start

# éªŒè¯
pgrep -f "openclaw-gateway"
```

### æ­¥éª¤ 4: æµ‹è¯•
```bash
# ä½¿ç”¨ web_search å·¥å…·æµ‹è¯•
openclaw web_search "test query" --count 3
```

---

## ğŸ”§ å¸¸è§å·¥å…·é…ç½®

### Tavily Search
```json
{
  "tools": {
    "web": {
      "search": {
        "provider": "tavily",
        "apiKey": "tvly-xxx"
      }
    }
  }
}
```

### Perplexity Search
```json
{
  "tools": {
    "web": {
      "search": {
        "provider": "perplexity",
        "apiKey": "pplx-xxx"
      }
    }
  }
}
```

### Firecrawl (web_fetch å›é€€)
```json
{
  "tools": {
    "web": {
      "fetch": {
        "firecrawl": {
          "enabled": true,
          "apiKey": "fc-xxx"
        }
      }
    }
  }
}
```

---

## âš ï¸ å¸¸è§é”™è¯¯

| é”™è¯¯ | åŸå›  | è§£å†³ |
|------|------|------|
| `missing_brave_api_key` | é…ç½®åœ¨ CLI è€Œé Gateway | ç§»åˆ° `~/.openclaw/openclaw.json` |
| `403 Forbidden` | API key æ— æ•ˆæˆ–å—é™ | æ£€æŸ¥ key çŠ¶æ€ï¼Œæˆ–æ›´æ¢ key |
| é…ç½®ä¸ç”Ÿæ•ˆ | æœªé‡å¯ Gateway | é‡å¯ååŠ è½½æ–°é…ç½® |
| æ ¼å¼é”™è¯¯ | JSON è¯­æ³•é”™è¯¯ | ä½¿ç”¨ python éªŒè¯æ ¼å¼ |

---

## ğŸ“ æ£€æŸ¥æ¸…å•

é…ç½®æ–°å·¥å…·æ—¶ï¼š
- [ ] ç¡®å®šæ˜¯ Gateway å·¥å…·è¿˜æ˜¯ CLI åŠŸèƒ½
- [ ] ä¿®æ”¹æ­£ç¡®çš„é…ç½®æ–‡ä»¶
- [ ] ä½¿ç”¨æ­£ç¡®çš„é…ç½®è·¯å¾„
- [ ] éªŒè¯ JSON æ ¼å¼
- [ ] é‡å¯ Gateway
- [ ] æµ‹è¯•å·¥å…·æ˜¯å¦æ­£å¸¸å·¥ä½œ

---

## ğŸ’¡ å…³é”®æ•™è®­

1. **Gateway å·¥å…·é…åœ¨ Gateway é…ç½®é‡Œ**
   - `web_search`, `web_fetch` æ˜¯ Gateway å·¥å…·
   - å¿…é¡»é…åœ¨ `~/.openclaw/openclaw.json`

2. **é…ç½®åå¿…é¡»é‡å¯ Gateway**
   - Gateway å¯åŠ¨æ—¶è¯»å–é…ç½®
   - è¿è¡Œæ—¶ä¸ä¼šè‡ªåŠ¨é‡è½½

3. **åŒºåˆ† CLI å’Œ Gateway**
   - CLI: `openclaw` å‘½ä»¤
   - Gateway: å®ˆæŠ¤è¿›ç¨‹ï¼Œè¿è¡Œå·¥å…·

4. **éªŒè¯é…ç½®æ ¼å¼**
   - ä½¿ç”¨ `python3 -m json.tool` éªŒè¯
   - é¿å…æ‰‹åŠ¨ç¼–è¾‘å¯¼è‡´çš„è¯­æ³•é”™è¯¯

---

*å­¦ä¹ æ€»ç»“æ—¶é—´: 2026-02-07 08:25*
*æ•™è®­æ¥æº: Brave API é…ç½®å¤±è´¥å¤ç›˜*
